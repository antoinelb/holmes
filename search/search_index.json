{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"HOLMES","text":"<p>HydrOLogical Modeling Educational Software</p> <p>HOLMES is a web-based hydrological modeling tool designed for teaching operational hydrology. Developed at Universit\u00e9 Laval, Qu\u00e9bec, Canada.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Multiple Hydrological Models: GR4J (4 parameters) and Bucket (6 parameters) rainfall-runoff models</li> <li>Snow Modeling: CemaNeige degree-day model with multi-elevation band support</li> <li>Automatic Calibration: SCE-UA (Shuffled Complex Evolution) optimization algorithm</li> <li>Climate Projections: Run future scenarios with calibrated model parameters</li> <li>Interactive Interface: Real-time parameter adjustment and streamflow visualization</li> <li>High Performance: Rust-powered computational engine with Python integration</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Install HOLMES:</p> <pre><code>pip install holmes-hydro\n</code></pre> <p>Start the server:</p> <pre><code>holmes\n</code></pre> <p>Open your browser at http://127.0.0.1:8000.</p> <p> Get Started  User Guide</p>"},{"location":"#documentation-sections","title":"Documentation Sections","text":"<ul> <li> <p> Getting Started</p> <p>Install HOLMES and run your first simulation in minutes.</p> <p> Installation</p> </li> <li> <p> User Guide</p> <p>Learn how to use the web interface for calibration, simulation, and projection.</p> <p> User Guide</p> </li> <li> <p> Concepts</p> <p>Understand the hydrological models, calibration algorithms, and metrics.</p> <p> Concepts</p> </li> <li> <p> Developer Guide</p> <p>Architecture overview and API documentation.</p> <p> Developer Guide</p> </li> </ul>"},{"location":"#architecture-overview","title":"Architecture Overview","text":"<p>HOLMES uses a three-tier architecture:</p> Layer Technology Purpose Frontend Vanilla JavaScript, D3.js Interactive web interface Backend Python, Starlette, Uvicorn API routing, data loading, orchestration Compute Rust (holmes-rs), PyO3 High-performance numerical models <p>Communication between frontend and backend uses WebSockets for real-time updates during calibration.</p>"},{"location":"#license","title":"License","text":"<p>HOLMES is released under the MIT License.</p>"},{"location":"#links","title":"Links","text":"<ul> <li> GitHub Repository</li> <li> PyPI Package</li> </ul>"},{"location":"api-reference/","title":"API Reference","text":"<p>This page is under construction.</p>"},{"location":"api-reference/api/","title":"API Package","text":"<p>This page is under construction.</p>"},{"location":"api-reference/data/","title":"Data Module","text":"<p>This page is under construction.</p>"},{"location":"api-reference/models/","title":"Models Package","text":"<p>This page is under construction.</p>"},{"location":"concepts/","title":"Concepts","text":"<p>This page is under construction.</p>"},{"location":"concepts/bucket/","title":"Bucket Model","text":"<p>This page is under construction.</p>"},{"location":"concepts/calibration-algorithms/","title":"Calibration Algorithms","text":"<p>This page is under construction.</p>"},{"location":"concepts/gr4j/","title":"GR4J Model","text":"<p>This page is under construction.</p>"},{"location":"concepts/metrics/","title":"Metrics","text":"<p>This page is under construction.</p>"},{"location":"concepts/pet-models/","title":"Potential evapotranspiration models","text":""},{"location":"concepts/pet-models/#oudin-model","title":"Oudin Model","text":"<p>This page is under construction.</p>"},{"location":"concepts/snow-models/","title":"Snow models","text":""},{"location":"concepts/snow-models/#cemaneige-model","title":"CemaNeige Model","text":"<p>This page is under construction.</p>"},{"location":"data-formats/","title":"Data Formats","text":"<p>This page is under construction.</p>"},{"location":"data-formats/cemaneige-info/","title":"CemaNeige Info","text":"<p>This page is under construction.</p>"},{"location":"data-formats/exports/","title":"Exported Files","text":"<p>This page is under construction.</p>"},{"location":"data-formats/observations/","title":"Observations CSV","text":"<p>This page is under construction.</p>"},{"location":"data-formats/projections/","title":"Projections CSV","text":"<p>This page is under construction.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to HOLMES (HydrOLogical Modeling Educational Software), a web-based tool designed to teach operational hydrology. This section will guide you through installing HOLMES and getting your first model calibration running.</p>"},{"location":"getting-started/#what-is-holmes","title":"What is HOLMES?","text":"<p>HOLMES is educational software developed at Universit\u00e9 Laval, Qu\u00e9bec, Canada. It provides an interactive web interface for:</p> <ul> <li>Calibrating hydrological models (GR4J, Bucket) against observed streamflow data</li> <li>Simulating streamflow using calibrated model parameters</li> <li>Projecting future streamflow under climate change scenarios</li> </ul>"},{"location":"getting-started/#what-youll-learn","title":"What You'll Learn","text":"<p>This Getting Started guide covers:</p> Section Description Installation Installing HOLMES via pip or from source Quickstart Your first calibration in 5 steps Configuration Customizing server settings"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before installing HOLMES, ensure you have:</p> <ul> <li>Python 3.11 or newer installed on your system</li> <li>A modern web browser (Chrome, Firefox, Safari, or Edge)</li> </ul>"},{"location":"getting-started/#quick-install","title":"Quick Install","text":"<p>Install HOLMES with:</p> <pre><code>pip install holmes-hydro\n</code></pre> <p>Then start the server:</p> <pre><code>holmes\n</code></pre> <p>The web interface opens automatically in your default browser. If needed, you can also access it manually at http://127.0.0.1:8000.</p> <p>For detailed installation instructions, see the Installation page.</p>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Follow the Quickstart tutorial to run your first calibration</li> <li>Read the User Guide for comprehensive interface documentation</li> <li>Explore the Concepts section to understand the hydrological models</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>HOLMES can be customized using environment variables. These control server behavior such as the host address, port, and development features.</p>"},{"location":"getting-started/configuration/#configuration-file","title":"Configuration File","text":"<p>Create a <code>.env</code> file in your working directory to set configuration options:</p> <pre><code>DEBUG=True\nRELOAD=True\nHOST=127.0.0.1\nPORT=8000\n</code></pre>"},{"location":"getting-started/configuration/#available-options","title":"Available Options","text":""},{"location":"getting-started/configuration/#debug","title":"DEBUG","text":"<p>Enables debug mode with more verbose logging.</p> Property Value Type Boolean Default <code>False</code> Values <code>True</code>, <code>False</code> <pre><code>DEBUG=True\n</code></pre> <p>When enabled:</p> <ul> <li>More detailed error messages</li> <li>Verbose logging output</li> <li>Useful for troubleshooting issues</li> </ul>"},{"location":"getting-started/configuration/#reload","title":"RELOAD","text":"<p>Enables auto-reload on code changes. Primarily useful for development.</p> Property Value Type Boolean Default <code>False</code> Values <code>True</code>, <code>False</code> <pre><code>RELOAD=True\n</code></pre> <p>When enabled:</p> <ul> <li>Server automatically restarts when source files change</li> <li>Useful when developing or customizing HOLMES</li> </ul> <p>Development Only</p> <p>Do not enable <code>RELOAD</code> in production environments as it impacts performance.</p>"},{"location":"getting-started/configuration/#host","title":"HOST","text":"<p>The network interface to bind the server to.</p> Property Value Type String (IP address) Default <code>127.0.0.1</code> <pre><code>HOST=127.0.0.1\n</code></pre> <p>Common values:</p> <ul> <li><code>127.0.0.1</code> - Only accessible from local machine (recommended for personal use)</li> <li><code>0.0.0.0</code> - Accessible from any network interface (use for sharing on a network)</li> </ul> <p>Network Security</p> <p>Setting <code>HOST=0.0.0.0</code> exposes HOLMES to your network. Only use this on trusted networks and consider firewall rules.</p>"},{"location":"getting-started/configuration/#port","title":"PORT","text":"<p>The port number for the web server.</p> Property Value Type Integer Default <code>8000</code> Range <code>1</code>-<code>65535</code> <pre><code>PORT=8000\n</code></pre> <p>Port Conflicts</p> <p>If port 8000 is already in use by another application, change to an alternative like <code>8001</code> or <code>8080</code>.</p>"},{"location":"getting-started/configuration/#example-configurations","title":"Example Configurations","text":""},{"location":"getting-started/configuration/#personal-use-default","title":"Personal Use (Default)","text":"<p>Minimal configuration for local use:</p> <pre><code># .env - Personal use\n# No file needed, defaults are fine\n</code></pre> <p>Or explicitly:</p> <pre><code>HOST=127.0.0.1\nPORT=8000\n</code></pre>"},{"location":"getting-started/configuration/#development","title":"Development","text":"<p>Configuration for developing HOLMES:</p> <pre><code># .env - Development\nDEBUG=True\nRELOAD=True\n</code></pre>"},{"location":"getting-started/configuration/#classroomlab-setting","title":"Classroom/Lab Setting","text":"<p>Share HOLMES with students on a local network:</p> <pre><code># .env - Classroom\nHOST=0.0.0.0\nPORT=8000\n</code></pre> <p>Students can then access HOLMES at <code>http://&lt;your-ip&gt;:8000</code>.</p>"},{"location":"getting-started/configuration/#applying-configuration","title":"Applying Configuration","text":"<p>Configuration changes require restarting the server:</p> <ol> <li>Stop the running server (Ctrl+C)</li> <li>Edit or create the <code>.env</code> file</li> <li>Restart the server: <code>holmes</code></li> </ol>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>Instead of a <code>.env</code> file, you can set environment variables directly:</p> Linux/macOSWindows (PowerShell)Windows (CMD) <pre><code>export PORT=8080\nholmes\n</code></pre> <pre><code>$env:PORT = \"8080\"\nholmes\n</code></pre> <pre><code>set PORT=8080\nholmes\n</code></pre> <p>Environment variables take precedence over <code>.env</code> file values.</p>"},{"location":"getting-started/configuration/#validation","title":"Validation","text":"<p>HOLMES validates configuration values on startup. Invalid values result in a startup error:</p> <pre><code>HolmesConfigError: Invalid port: -1. Port must be between 1 and 65535.\n</code></pre> <p>Check the error message and correct your configuration.</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>HOLMES can be installed via pip (recommended for users) or from source (for development).</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.11 or newer</li> <li>A modern web browser</li> <li>Operating systems: Linux, macOS, or Windows</li> </ul>"},{"location":"getting-started/installation/#installing-via-pip","title":"Installing via pip","text":"<p>The simplest way to install HOLMES is using pip:</p> <pre><code>pip install holmes-hydro\n</code></pre> <p>This installs both the <code>holmes-hydro</code> Python package and the <code>holmes-rs</code> Rust extension that provides high-performance model computations.</p>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>After installation, verify that HOLMES is correctly installed:</p> <pre><code>holmes --version\n</code></pre> <p>This should display the installed version number.</p>"},{"location":"getting-started/installation/#installing-from-source","title":"Installing from Source","text":"<p>For development or to access the latest features, install from the GitHub repository.</p>"},{"location":"getting-started/installation/#step-1-install-uv","title":"Step 1: Install uv","text":"<p>HOLMES uses uv for package management:</p> Linux/macOSWindows <pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre> <pre><code>powershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n</code></pre>"},{"location":"getting-started/installation/#step-2-clone-the-repository","title":"Step 2: Clone the Repository","text":"<pre><code>git clone https://github.com/antoinelb/holmes.git\ncd holmes\n</code></pre>"},{"location":"getting-started/installation/#step-3-install-dependencies","title":"Step 3: Install Dependencies","text":"<pre><code>uv sync\n</code></pre> <p>This creates a virtual environment and installs all dependencies, including building the Rust extension.</p>"},{"location":"getting-started/installation/#step-4-run-holmes","title":"Step 4: Run HOLMES","text":"<p>With the virtual environment activated:</p> <pre><code>uv run holmes\n</code></pre> <p>Or activate the environment first:</p> <pre><code>source .venv/bin/activate  # Linux/macOS\n# .venv\\Scripts\\activate   # Windows\nholmes\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/installation/#command-not-found-holmes","title":"\"Command not found: holmes\"","text":"<p>If you installed via pip but the <code>holmes</code> command isn't found:</p> <ol> <li>Ensure your Python scripts directory is in your PATH</li> <li>Try running with the full path: <code>python -m holmes</code></li> </ol>"},{"location":"getting-started/installation/#rust-compilation-errors","title":"Rust Compilation Errors","text":"<p>If installing from source and encountering Rust errors:</p> <ol> <li>Ensure you have Rust installed: <code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></li> <li>Update Rust: <code>rustup update</code></li> <li>Retry the installation</li> </ol>"},{"location":"getting-started/installation/#port-already-in-use","title":"Port Already in Use","text":"<p>If port 8000 is already occupied:</p> <pre><code># Create a .env file to use a different port\necho \"PORT=8001\" &gt; .env\nholmes\n</code></pre> <p>See Configuration for more options.</p>"},{"location":"getting-started/installation/#getting-help","title":"Getting Help","text":"<p>If you encounter issues:</p> <ol> <li>Check the GitHub Issues for known problems</li> <li>Open a new issue with your error message and system information</li> </ol>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Follow the Quickstart to run your first calibration</li> <li>Configure the server using Configuration options</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quickstart","text":"<p>This tutorial walks you through your first HOLMES session: starting the server, calibrating a hydrological model, and exporting your results.</p>"},{"location":"getting-started/quickstart/#step-1-start-the-server","title":"Step 1: Start the Server","text":"<p>Open a terminal and run:</p> <pre><code>holmes\n</code></pre> <p>The web interface opens automatically in your default browser. The terminal shows:</p> <pre><code>INFO:     Started server process [12345]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n</code></pre> <p>If the browser doesn't open automatically, navigate to http://127.0.0.1:8000.</p>"},{"location":"getting-started/quickstart/#step-2-configure-your-model","title":"Step 2: Configure Your Model","text":"<p>The interface opens on the Calibration page. Configure your model using the settings on the left:</p>"},{"location":"getting-started/quickstart/#general-settings","title":"General Settings","text":"<ol> <li> <p>Hydrological model: Select a model to calibrate</p> <ul> <li>gr4j: The GR4J model - a popular 4-parameter model</li> <li>bucket: A simple bucket model for educational purposes</li> </ul> </li> <li> <p>Catchment: Select a catchment dataset</p> <ul> <li>HOLMES includes sample catchments for learning</li> </ul> </li> <li> <p>Snow model (optional): Enable snow modeling if the catchment has snow</p> <ul> <li>cemaneige: The CemaNeige degree-day snow model</li> <li>Available only for catchments with temperature data</li> </ul> </li> <li> <p>Objective criteria: Choose how to measure model performance</p> <ul> <li>nse: Nash-Sutcliffe Efficiency (most common)</li> <li>kge: Kling-Gupta Efficiency</li> <li>rmse: Root Mean Square Error</li> </ul> </li> <li> <p>Streamflow transformation: Apply a transformation to emphasize different flow regimes</p> <ul> <li>High flows: none: No transformation - emphasizes high flows</li> <li>Medium flows: sqrt: Square root - balanced focus</li> <li>Low flows: log: Logarithmic - emphasizes low flows</li> </ul> </li> <li> <p>Calibration start/end: Set the date range for calibration</p> <ul> <li>Use the \"Reset\" buttons to reset to the full available range</li> </ul> </li> <li> <p>Calibration algorithm: Choose between manual and automatic calibration</p> <ul> <li>Manual: Adjust parameters by hand using sliders</li> <li>Automatic - SCE: Let the SCE-UA algorithm find optimal parameters</li> </ul> </li> </ol>"},{"location":"getting-started/quickstart/#step-3-run-a-manual-calibration","title":"Step 3: Run a Manual Calibration","text":"<p>For your first calibration, start with manual mode to understand how parameters affect streamflow:</p> <ol> <li>Ensure Calibration algorithm is set to Manual</li> <li>Adjust the parameter sliders in the Manual calibration settings panel</li> <li>Click Run to see the simulated streamflow</li> </ol> <p>The chart on the right shows:</p> <ul> <li>observations: Measured streamflow (blue line)</li> <li>simulation: Model output with your parameters (green line)</li> <li>The objective function value (e.g., NSE) tells you how well the model matches observations</li> </ul> <p>Understanding Parameters</p> <p>Each model has different parameters. For GR4J:</p> <ul> <li>X1: Production store capacity (mm)</li> <li>X2: Groundwater exchange coefficient (mm/day)</li> <li>X3: Routing store capacity (mm)</li> <li>X4: Unit hydrograph time base (days)</li> </ul> <p>Try adjusting one parameter at a time to see its effect.</p>"},{"location":"getting-started/quickstart/#step-4-run-an-automatic-calibration","title":"Step 4: Run an Automatic Calibration","text":"<p>Once you understand manual calibration, try automatic optimization:</p> <ol> <li>Set Calibration algorithm to Automatic - SCE</li> <li>Adjust algorithm settings if desired (default values work well):<ul> <li>n_complexes: Number of complexes</li> <li>max_evaluations: Maximum function evaluations</li> <li>k_stop: Iterations to check for convergence</li> <li>p_convergence_threshold: Relative change threshold</li> <li>geometric_range_threshold: Parameter space convergence</li> </ul> </li> <li>Click Start calibration</li> </ol> <p>Watch as the algorithm iteratively improves the parameters. The charts update in real-time showing:</p> <ul> <li>Parameter evolution over iterations</li> <li>Objective function improvement</li> <li>Simulated vs. observed streamflow</li> </ul> <p>Click Stop calibration at any time to halt the process.</p>"},{"location":"getting-started/quickstart/#step-5-export-your-results","title":"Step 5: Export Your Results","text":"<p>After calibration, export your results for use in simulation or projection:</p> <ol> <li> <p>Click Export parameters to save the calibrated parameters as JSON</p> <ul> <li>This file can be imported into the Simulation or Projection pages</li> <li>File format: <code>catchment_model_params.json</code></li> </ul> </li> <li> <p>Click Export data to save the complete calibration record:</p> <ul> <li>Parameter evolution during calibration (JSON)</li> <li>Timeseries data with observations and simulation (CSV)</li> </ul> </li> </ol>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<p>Now that you've completed your first calibration:</p> <ul> <li>Run a Simulation: Use your calibrated parameters on different time periods</li> <li>Create Projections: Explore how streamflow might change under climate scenarios</li> <li>Explore the Interface: Learn about all available features</li> <li>Understand the Models: Learn the theory behind GR4J and other models</li> </ul> <p>Saving Your Work</p> <p>HOLMES can automatically save your settings between sessions. Enable Allow save in the settings menu (hamburger icon, top right) to persist your configuration.</p>"},{"location":"reference/changelog/","title":"Changelog","text":"<p>{%% include-markdown \"../../CHANGELOG.md\" %%}</p>"},{"location":"reference/license/","title":"License","text":"<p>MIT License</p> <p>See the LICENSE file for details.</p>"},{"location":"user-guide/","title":"User Guide","text":"<p>This guide provides comprehensive documentation for using the HOLMES web interface. Whether you're a student learning about hydrological modeling or an instructor teaching operational hydrology, this guide will help you make the most of HOLMES.</p>"},{"location":"user-guide/#overview","title":"Overview","text":"<p>HOLMES provides three main workflows, each accessible from the navigation menu:</p> Workflow Purpose Prerequisites Calibration Find optimal model parameters by fitting to observed data Catchment data Simulation Run the model with calibrated parameters on any time period Calibrated parameters Projection Explore future streamflow under climate change scenarios Calibrated parameters + Climate data"},{"location":"user-guide/#interface-structure","title":"Interface Structure","text":"<p>The HOLMES interface consists of:</p> <ol> <li>Navigation Menu (top left corner) - Switch between Calibration, Simulation, and Projection</li> <li>Settings Menu (top right corner) - Theme toggle, data persistence, version info</li> <li>Configuration Panel (top) - Model and run settings</li> <li>Results Panel (bottom) - Charts and metrics</li> </ol>"},{"location":"user-guide/#typical-workflow","title":"Typical Workflow","text":"<p>A typical HOLMES session follows this pattern:</p> <ol> <li>Calibrate a model against observed streamflow data</li> <li>Export the calibrated parameters to a JSON file</li> <li>Simulate streamflow for validation periods or other catchments</li> <li>Project future conditions using climate model data</li> </ol>"},{"location":"user-guide/#quick-links","title":"Quick Links","text":""},{"location":"user-guide/#by-task","title":"By Task","text":"<ul> <li>Run my first calibration</li> <li>Use automatic optimization</li> <li>Compare multiple models</li> <li>Explore climate projections</li> <li>Export my results</li> <li>Change the theme</li> </ul>"},{"location":"user-guide/#by-feature","title":"By Feature","text":"<ul> <li>Understanding parameter sliders</li> <li>Interpreting performance metrics</li> <li>Zoom and pan on charts</li> <li>Save my settings between sessions</li> </ul>"},{"location":"user-guide/#user-guide-sections","title":"User Guide Sections","text":"<ul> <li> <p> Interface Overview</p> <p>Learn the common UI elements: navigation, charts, forms, and keyboard shortcuts</p> </li> <li> <p> Calibration</p> <p>Manual and automatic model calibration against observed data</p> </li> <li> <p> Simulation</p> <p>Forward model runs with calibrated parameters</p> </li> <li> <p> Projection</p> <p>Climate change impact assessment</p> </li> <li> <p> Settings</p> <p>Theme, data persistence, and other preferences</p> </li> </ul>"},{"location":"user-guide/calibration/","title":"Calibration","text":"<p>The Calibration page is where you find optimal model parameters by fitting simulations to observed streamflow data. HOLMES supports both manual parameter adjustment and automatic optimization.</p>"},{"location":"user-guide/calibration/#overview","title":"Overview","text":"<p>Calibration is the process of finding model parameters that produce simulated streamflow closely matching observations. HOLMES displays:</p> <ul> <li>Observed streamflow from the selected catchment</li> <li>Simulated streamflow using current parameters</li> <li>Performance metrics quantifying the fit</li> </ul>"},{"location":"user-guide/calibration/#general-settings","title":"General Settings","text":"<p>The left panel contains configuration options that apply to both manual and automatic calibration.</p>"},{"location":"user-guide/calibration/#hydrological-model","title":"Hydrological Model","text":"<p>Select the rainfall-runoff model to calibrate:</p> Model Parameters gr4j 4 bucket 6 <p>See Concepts: Models for detailed model descriptions.</p>"},{"location":"user-guide/calibration/#catchment","title":"Catchment","text":"<p>Select the catchment dataset. Each catchment includes:</p> <ul> <li>Daily precipitation</li> <li>Potential evapotranspiration (PET)</li> <li>Observed streamflow</li> <li>Optionally: temperature (for snow modeling)</li> </ul> <p>The available date range updates based on the selected catchment.</p>"},{"location":"user-guide/calibration/#snow-model","title":"Snow Model","text":"<p>Enable snow accumulation and melt modeling for catchments with significant snowfall:</p> Option Description none No snow model (default) cemaneige CemaNeige degree-day model <p>Availability</p> <p>The snow model option is only enabled for catchments that include temperature data. Catchments without temperature data will show this option as disabled.</p>"},{"location":"user-guide/calibration/#objective-criteria","title":"Objective Criteria","text":"<p>Choose the metric used to evaluate model performance:</p> Metric Optimal Description nse 1 Nash-Sutcliffe Efficiency kge 1 Kling-Gupta Efficiency rmse 0 Root Mean Square Error"},{"location":"user-guide/calibration/#streamflow-transformation","title":"Streamflow Transformation","text":"<p>Apply a transformation to the streamflow before computing the objective:</p> Transformation Effect High flows: none No transformation - calibrates to match peak flows Medium flows: sqrt Square root - balanced emphasis on all flows Low flows: log Logarithmic - emphasizes base flow accuracy <p>Choosing a Transformation</p> <ul> <li>Use none if flood prediction is your primary goal</li> <li>Use sqrt for general-purpose calibration</li> <li>Use log if accurate low-flow simulation is critical (e.g., drought studies)</li> </ul>"},{"location":"user-guide/calibration/#calibration-period","title":"Calibration Period","text":"<p>Set the start and end dates for calibration:</p> <ul> <li>Dates are constrained to the catchment's data availability</li> <li>Click Reset to restore the full available range</li> <li>A warm-up period is automatically included before the start date</li> </ul> <p>Warm-up Period</p> <p>The warm-up period (3 years, or up to the minimum available data) allows model stores to reach realistic levels before the calibration period begins. This period is shown as a shaded area on the chart.</p>"},{"location":"user-guide/calibration/#calibration-algorithm","title":"Calibration Algorithm","text":"<p>Choose between manual and automatic calibration:</p> Algorithm Use Case Manual Learning, exploring parameter sensitivity Automatic - SCE Finding optimal parameters efficiently"},{"location":"user-guide/calibration/#manual-calibration","title":"Manual Calibration","text":"<p>Manual calibration lets you adjust parameters directly and see immediate results.</p>"},{"location":"user-guide/calibration/#manual-calibration-settings","title":"Manual calibration settings","text":"<p>When Manual is selected, parameter sliders appear:</p> <p>For GR4J:</p> Parameter Description x1 Production store capacity (mm) x2 Groundwater exchange (mm/day) x3 Routing store capacity (mm) x4 Unit hydrograph time base (days) <p>For Bucket:</p> Parameter Description c_soil Soil storage capacity (mm) alpha Split factor for slow/fast routing k_r Slow reservoir recession coefficient delta Routing delay (days) beta Precipitation split factor k_t Fast reservoir recession coefficient"},{"location":"user-guide/calibration/#running-a-manual-calibration","title":"Running a Manual Calibration","text":"<ol> <li>Adjust parameter sliders to your desired values</li> <li>Click Run to execute the simulation</li> <li>Observe the streamflow chart and objective value</li> <li>Iterate: adjust parameters and run again</li> </ol> <p>Parameter Exploration</p> <p>Try adjusting one parameter at a time to understand its effect on model behavior. This builds intuition about how the model works.</p>"},{"location":"user-guide/calibration/#automatic-calibration","title":"Automatic Calibration","text":"<p>Automatic calibration uses optimization algorithms to find parameters that maximize (or minimize) the objective function.</p>"},{"location":"user-guide/calibration/#automatic-sce-calibration-settings","title":"Automatic - SCE calibration settings","text":"<p>When Automatic - SCE is selected, algorithm parameters appear:</p> Parameter Description n_complexes Number of complexes max_evaluations Maximum function evaluations k_stop Iterations to check for convergence p_convergence_threshold Relative change threshold geometric_range_threshold Parameter space convergence <p>The Shuffled Complex Evolution (SCE-UA) algorithm is a global optimization method well-suited for hydrological model calibration.</p>"},{"location":"user-guide/calibration/#running-an-automatic-calibration","title":"Running an Automatic Calibration","text":"<ol> <li>Configure general settings and algorithm parameters</li> <li>Click Start calibration</li> <li>Watch the real-time updates:<ul> <li>Parameter values converging</li> <li>Objective function improving</li> <li>Simulated streamflow matching observations</li> </ul> </li> <li>Click Stop calibration to halt early, or wait for completion</li> </ol>"},{"location":"user-guide/calibration/#understanding-the-results","title":"Understanding the Results","text":"<p>During and after calibration, the results panel shows:</p> <p>Parameter Evolution Charts (one per parameter)</p> <ul> <li>X-axis: Iteration number</li> <li>Y-axis: Parameter value</li> <li>Shows how each parameter converges toward optimal</li> </ul> <p>Objective Function Chart</p> <ul> <li>X-axis: Iteration number</li> <li>Y-axis: Objective value (NSE, KGE, or RMSE)</li> <li>A horizontal line shows the optimal value (1 for NSE/KGE, 0 for RMSE)</li> </ul> <p>Streamflow Chart</p> <ul> <li>Blue line: Observed streamflow</li> <li>Green line: Simulated streamflow (updates with each iteration)</li> <li>Blue shaded area: Warm-up period (excluded from metrics)</li> </ul>"},{"location":"user-guide/calibration/#exporting-results","title":"Exporting Results","text":"<p>After calibration, export your results using the buttons below the settings:</p>"},{"location":"user-guide/calibration/#export-parameters","title":"Export parameters","text":"<p>Saves the calibrated parameters as a JSON file:</p> <pre><code>{\n  \"hydroModel\": \"gr4j\",\n  \"catchment\": \"Example Catchment\",\n  \"snowModel\": null,\n  \"objective\": \"nse\",\n  \"transformation\": \"sqrt\",\n  \"start\": \"1990-01-01\",\n  \"end\": \"2000-12-31\",\n  \"hydroParams\": {\n    \"x1\": 350.5,\n    \"x2\": 0.12,\n    \"x3\": 95.3,\n    \"x4\": 1.85\n  }\n}\n</code></pre> <p>This file can be imported into the Simulation or Projection pages.</p>"},{"location":"user-guide/calibration/#export-data","title":"Export data","text":"<p>Saves two files:</p> <ol> <li>Calibration results (JSON): Complete parameter evolution and objective values</li> <li>Timeseries data (CSV): Date, observed streamflow, simulated streamflow</li> </ol>"},{"location":"user-guide/calibration/#common-issues","title":"Common Issues","text":""},{"location":"user-guide/calibration/#poor-calibration-results","title":"Poor Calibration Results","text":"<p>If the objective value is far from optimal:</p> <ol> <li>Check that the correct catchment data is loaded</li> <li>Try a different transformation</li> <li>Verify the calibration period includes representative conditions</li> <li>Consider if the selected model is appropriate for this catchment</li> </ol>"},{"location":"user-guide/calibration/#calibration-not-converging","title":"Calibration Not Converging","text":"<p>If automatic calibration doesn't improve:</p> <ol> <li>Increase max_evaluations</li> <li>Try different initial conditions (run multiple times)</li> <li>Consider if the objective function is appropriate</li> </ol>"},{"location":"user-guide/calibration/#missing-snow-model-option","title":"Missing Snow Model Option","text":"<p>The snow model is only available for catchments with temperature data. Ensure your catchment includes temperature observations.</p>"},{"location":"user-guide/interface-overview/","title":"Interface Overview","text":"<p>This page describes the common elements of the HOLMES interface that appear across all pages.</p>"},{"location":"user-guide/interface-overview/#navigation","title":"Navigation","text":"<p>The navigation menu is accessed by clicking the grid icon in the top-left corner. It provides access to the three main pages:</p> Page Description Calibration Fit model parameters to observed streamflow Simulation Run forward simulations with calibrated parameters Projection Explore climate change scenarios <p>Click any page name to navigate there. Your current settings and data are preserved when switching pages (if Allow save is enabled in settings).</p>"},{"location":"user-guide/interface-overview/#page-layout","title":"Page Layout","text":"<p>Each page follows a consistent vertical layout, with sections flowing from top to bottom:</p>"},{"location":"user-guide/interface-overview/#header","title":"Header","text":"<p>The top area contains:</p> <ul> <li>Navigation menu (grid icon, top-left)</li> <li>Settings menu (hamburger icon, top-right)</li> </ul>"},{"location":"user-guide/interface-overview/#configuration-section","title":"Configuration Section","text":"<p>Below the header, configuration options appear:</p> <ul> <li>Form fields for selecting models, catchments, dates</li> <li>Parameter controls (sliders for manual calibration, inputs for algorithms)</li> <li>Action buttons (Run, Start, Stop, Export)</li> </ul>"},{"location":"user-guide/interface-overview/#results-section","title":"Results Section","text":"<p>Below the configuration, results are displayed:</p> <ul> <li>Time series charts showing observed and simulated streamflow</li> <li>Parameter evolution plots during calibration</li> <li>Performance metrics (NSE, KGE, etc.)</li> </ul>"},{"location":"user-guide/interface-overview/#form-elements","title":"Form Elements","text":""},{"location":"user-guide/interface-overview/#dropdowns","title":"Dropdowns","text":"<p>Select from predefined options:</p> <ul> <li>Hydrological model: Choose which model to use</li> <li>Catchment: Select the dataset</li> <li>Objective criteria: Choose the performance metric</li> </ul>"},{"location":"user-guide/interface-overview/#date-inputs","title":"Date Inputs","text":"<p>Set calibration/simulation periods:</p> <ul> <li>Click the field to open a date picker</li> <li>Use the Reset button to return to the full available range</li> <li>Dates are constrained to the catchment's data availability</li> </ul>"},{"location":"user-guide/interface-overview/#parameter-sliders","title":"Parameter Sliders","text":"<p>In manual calibration mode, sliders control model parameters:</p> <ul> <li>Drag the slider to adjust values</li> <li>The numeric input shows the current value</li> <li>Values are constrained between model-defined bounds</li> </ul>"},{"location":"user-guide/interface-overview/#checkboxes","title":"Checkboxes","text":"<p>Toggle options on/off:</p> <ul> <li>Multimodel simulation: Average multiple calibrations (Simulation page)</li> <li>Allow save: Persist settings between sessions (Settings)</li> </ul>"},{"location":"user-guide/interface-overview/#charts","title":"Charts","text":"<p>All charts in HOLMES share common interaction patterns.</p>"},{"location":"user-guide/interface-overview/#chart-interactions","title":"Chart Interactions","text":""},{"location":"user-guide/interface-overview/#zooming","title":"Zooming","text":"<p>Zoom into a specific time period:</p> <ol> <li>Click and drag horizontally to select a region</li> <li>Release to zoom to that selection</li> <li>Double-click anywhere to reset to the full view</li> </ol>"},{"location":"user-guide/interface-overview/#reading-values","title":"Reading Values","text":"<p>Hover over chart elements to see values. The legend identifies each line:</p> <ul> <li>Observations: Measured streamflow (blue)</li> <li>Simulation: Model output (green)</li> <li>Warmup period: Initial period excluded from metrics (blue shaded area)</li> </ul>"},{"location":"user-guide/interface-overview/#chart-types","title":"Chart Types","text":"Chart Description Found on Streamflow time series Observed vs simulated streamflow Calibration, Simulation Parameter evolution How parameters change during optimization Calibration (automatic) Objective function Performance metric improvement over iterations Calibration (automatic) Bar charts Performance metrics comparison Simulation Seasonal projection Daily mean streamflow by month Projection"},{"location":"user-guide/interface-overview/#notifications","title":"Notifications","text":"<p>HOLMES displays notifications at the top-center of the page:</p> <ul> <li>Success messages: Operation completed (default background)</li> <li>Error messages: Something went wrong (red/emphasized)</li> </ul> <p>Notifications automatically dismiss after a few seconds. Errors provide guidance on how to resolve the issue.</p>"},{"location":"user-guide/interface-overview/#loading-states","title":"Loading States","text":"<p>When HOLMES is processing:</p> <ul> <li>A loading indicator appears during data fetches and model runs</li> <li>Buttons may be disabled to prevent conflicting operations</li> <li>During automatic calibration, the Stop button replaces Start</li> </ul>"},{"location":"user-guide/interface-overview/#connection-status","title":"Connection Status","text":"<p>HOLMES uses WebSocket connections for real-time updates. If the connection is lost:</p> <ol> <li>HOLMES attempts to reconnect automatically</li> <li>If reconnection fails repeatedly, a notification advises refreshing the page</li> <li>Your local settings (if Allow save is enabled) are preserved in browser storage</li> </ol>"},{"location":"user-guide/interface-overview/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Shortcut Action T Toggle theme (light/dark)"},{"location":"user-guide/interface-overview/#browser-compatibility","title":"Browser Compatibility","text":"<p>HOLMES works best with:</p> <ul> <li>Chrome/Edge (latest)</li> <li>Firefox (latest)</li> <li>Safari (latest)</li> </ul> <p>JavaScript must be enabled for the application to function.</p>"},{"location":"user-guide/interface-overview/#tips","title":"Tips","text":"<p>Data Persistence</p> <p>Enable Allow save in settings to remember your configuration between browser sessions. This is especially useful when working on the same catchment over multiple sessions.</p> <p>Multiple Tabs</p> <p>You can open HOLMES in multiple browser tabs to compare different configurations side-by-side. Note that tabs share the same localStorage, so changes in one tab may affect others after page refresh. Disable Allow save in settings to prevent this.</p>"},{"location":"user-guide/projection/","title":"Projection","text":"<p>The Projection page explores how streamflow might change under future climate scenarios. Using calibrated model parameters and climate model projections, you can assess potential impacts of climate change on water resources.</p>"},{"location":"user-guide/projection/#overview","title":"Overview","text":"<p>Climate projection simulates streamflow using:</p> <ol> <li>Calibrated model parameters from the Calibration page</li> <li>Future climate data from climate projections</li> </ol> <p>Results show potential changes in streamflow seasonality and magnitude under different climate scenarios and time horizons.</p>"},{"location":"user-guide/projection/#prerequisites","title":"Prerequisites","text":"<p>Before using projections, you need:</p> <ol> <li>Calibrated parameters: Export from the Calibration page</li> <li>Projection data: Climate projections for your catchment (pre-loaded in HOLMES)</li> </ol> <p>Projection Data Availability</p> <p>Projection data is catchment-specific. Not all catchments have projection data available.</p>"},{"location":"user-guide/projection/#importing-calibration-results","title":"Importing Calibration Results","text":""},{"location":"user-guide/projection/#step-1-prepare-calibration","title":"Step 1: Prepare Calibration","text":"<ol> <li>Go to the Calibration page</li> <li>Calibrate a model for your catchment</li> <li>Click Export parameters to save the JSON file</li> </ol>"},{"location":"user-guide/projection/#step-2-import-to-projection","title":"Step 2: Import to Projection","text":"<p>On the Projection page:</p> <ol> <li>Click Import model parameters</li> <li>Select your calibration JSON file</li> <li>The calibration details appear in the table</li> </ol> <p>Single Calibration</p> <p>Unlike Simulation, the Projection page uses only one calibration at a time. Importing a new calibration replaces the existing one.</p>"},{"location":"user-guide/projection/#calibration-results-table","title":"Calibration Results Table","text":"<p>The table displays the imported calibration:</p> Field Description hydrological model GR4J, Bucket, etc. catchment Must match available projection data objective Calibration objective used transformation Streamflow transformation algorithm Manual or SCE date start Calibration period start date end Calibration period end snow model CemaNeige or none parameters Calibrated parameter values"},{"location":"user-guide/projection/#projection-settings","title":"Projection Settings","text":"<p>After importing a calibration, configure the projection:</p>"},{"location":"user-guide/projection/#climate-model","title":"Climate Model","text":"<p>Select the climate model that provides future climate data:</p> <ul> <li>Different models have different assumptions and biases</li> <li>Multiple models allow uncertainty assessment</li> </ul>"},{"location":"user-guide/projection/#horizon","title":"Horizon","text":"<p>Select the future time period. Available horizons depend on the projection data for your catchment (e.g., H20, H50, H80).</p>"},{"location":"user-guide/projection/#climate-scenario","title":"Climate Scenario","text":"<p>Select the climate scenario. Available scenarios depend on the projection data for your catchment (e.g., RCP4.5, RCP8.5, REF).</p>"},{"location":"user-guide/projection/#running-a-projection","title":"Running a Projection","text":"<ol> <li>Import a calibration result</li> <li>Select climate model, horizon, and scenario</li> <li>Click Run</li> </ol> <p>A loading indicator shows while the projection runs (this may take longer than calibration/simulation due to the longer time series).</p>"},{"location":"user-guide/projection/#understanding-results","title":"Understanding Results","text":""},{"location":"user-guide/projection/#projection-chart","title":"Projection Chart","text":"<p>The main chart shows the mean daily hydrograph (averaged across all years in the projection period):</p> <ul> <li>X-axis: Month (January to December)</li> <li>Y-axis: Streamflow</li> <li>Light lines: Individual ensemble members</li> <li>Bold line: Median across all members</li> </ul> <p>This shows the expected seasonal pattern of streamflow under the selected scenario.</p>"},{"location":"user-guide/projection/#chart-interactions","title":"Chart Interactions","text":"<ul> <li>Zoom: Click and drag to select a time range</li> <li>Reset: Double-click to return to full year view</li> </ul>"},{"location":"user-guide/projection/#results-chart","title":"Results Chart","text":"<p>The dot plot shows summary statistics for each ensemble member:</p> Metric Description Winter min Minimum daily flow in January-March Spring max Maximum daily flow in March-June Summer min Minimum daily flow in May-October Autumn max Maximum daily flow in September-December Mean Annual mean streamflow <p>Each dot represents one ensemble member, showing the spread of projections.</p>"},{"location":"user-guide/projection/#interpreting-projections","title":"Interpreting Projections","text":""},{"location":"user-guide/projection/#ensemble-spread","title":"Ensemble Spread","text":"<p>The spread of ensemble members indicates uncertainty:</p> <ul> <li>Narrow spread: Models agree on the projection</li> <li>Wide spread: Significant uncertainty in the projection</li> </ul>"},{"location":"user-guide/projection/#seasonal-changes","title":"Seasonal Changes","text":"<p>Look for changes in:</p> <ul> <li>Peak timing: Has the spring freshet shifted earlier/later?</li> <li>Peak magnitude: Are floods projected to increase/decrease?</li> <li>Low flow timing: When do minimum flows occur?</li> <li>Low flow magnitude: Are droughts projected to worsen?</li> </ul>"},{"location":"user-guide/projection/#comparing-scenarios","title":"Comparing Scenarios","text":"<p>Run projections with different settings to understand:</p> <ul> <li>Horizon effect: How do projections change across different time horizons?</li> <li>Scenario effect: How do different climate scenarios compare?</li> <li>Model effect: Do different climate models agree?</li> </ul>"},{"location":"user-guide/projection/#exporting-results","title":"Exporting Results","text":"<p>Click Export data to save:</p> <ol> <li> <p>Projection timeseries (CSV): Daily mean streamflow by day of year</p> <pre><code>date,01,02,03,median,model,horizon,scenario\n2021-01-01,15.2,14.8,16.1,15.2,CSI,H50,RCP4.5\n2021-01-02,14.9,14.5,15.8,14.9,CSI,H50,RCP4.5\n...\n</code></pre> </li> <li> <p>Projection results (CSV): Summary statistics per member</p> <pre><code>member,winter_min,summer_min,spring_max,autumn_max,mean\n01,5.2,2.1,125.3,45.6,22.4\n02,4.8,1.9,118.7,42.3,21.1\n...\n</code></pre> </li> </ol>"},{"location":"user-guide/projection/#common-issues","title":"Common Issues","text":""},{"location":"user-guide/projection/#no-projection-data","title":"No Projection Data","text":"<p>If the projection settings don't appear after importing calibration:</p> <ul> <li>The catchment may not have projection data available</li> <li>Try a different catchment with projection data</li> </ul>"},{"location":"user-guide/projection/#long-run-times","title":"Long Run Times","text":"<p>Projections can take longer than calibration:</p> <ul> <li>Climate model data spans many years</li> <li>Multiple ensemble members are processed</li> <li>Wait for the loading indicator to complete</li> </ul>"},{"location":"user-guide/projection/#unexpected-results","title":"Unexpected Results","text":"<p>If projections seem unrealistic:</p> <ul> <li>Verify calibration quality first</li> <li>Check that the correct catchment was calibrated</li> <li>Consider if the model is appropriate for future conditions</li> </ul>"},{"location":"user-guide/settings/","title":"Settings","text":"<p>The Settings panel provides options to customize your HOLMES experience, including theme selection, data persistence, and application information.</p>"},{"location":"user-guide/settings/#accessing-settings","title":"Accessing Settings","text":"<p>Click the hamburger menu icon (three horizontal lines) in the top-right corner to open the settings panel.</p>"},{"location":"user-guide/settings/#available-settings","title":"Available Settings","text":""},{"location":"user-guide/settings/#theme","title":"Theme","text":"<p>Toggle between light and dark color themes:</p> Theme Description Dark (default) Dark background with light text - easier on the eyes in low light Light Light background with dark text - better in bright environments <p>Click the theme button or press T to toggle.</p> <p>The theme preference is saved automatically if Allow save is enabled.</p>"},{"location":"user-guide/settings/#reset-all","title":"Reset All","text":"<p>Click Reset all to clear all saved settings and data:</p> <ul> <li>Clears all localStorage data for HOLMES</li> <li>Resets configuration to defaults</li> <li>Removes imported calibrations from Simulation and Projection pages</li> <li>Reloads the page</li> </ul> <p>Data Loss</p> <p>Reset all cannot be undone. Any unsaved calibration parameters or imported files will be lost.</p>"},{"location":"user-guide/settings/#allow-save","title":"Allow Save","text":"<p>Controls whether saved settings are loaded on page load:</p> State Behavior Enabled Saved settings are loaded from localStorage on page load Disabled Saved settings are ignored on page load (defaults are used instead) <p>When Allow save is disabled, saved settings are ignored on page load (defaults are used instead). However, changes you make during the session are still written to localStorage.</p> <p>Settings that can be persisted include:</p> <ul> <li>Selected model, catchment, objective, etc.</li> <li>Calibration date ranges</li> <li>Imported calibrations (Simulation/Projection pages)</li> <li>Theme preference</li> </ul>"},{"location":"user-guide/settings/#version","title":"Version","text":"<p>Displays the current HOLMES version number.</p> <p>This information is useful when:</p> <ul> <li>Reporting bugs or issues</li> <li>Checking for updates</li> <li>Verifying installation</li> </ul>"},{"location":"user-guide/settings/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>The settings panel includes a visual reminder of available shortcuts:</p> Shortcut Action T Toggle theme"},{"location":"user-guide/settings/#data-storage","title":"Data Storage","text":"<p>HOLMES stores settings in your browser's localStorage under keys prefixed with <code>holmes--</code>:</p> <ul> <li><code>holmes--settings--theme</code>: Light or dark theme</li> <li><code>holmes--calibration--*</code>: Calibration page settings</li> <li><code>holmes--simulation--*</code>: Simulation page settings</li> <li><code>holmes--projection--*</code>: Projection page settings</li> </ul> <p>This data:</p> <ul> <li>Stays in your browser (not sent to any server)</li> <li>Persists until cleared manually or via Reset all</li> <li>Is specific to the browser and device you're using</li> </ul>"},{"location":"user-guide/settings/#privacy","title":"Privacy","text":"<p>HOLMES does not collect or transmit any user data:</p> <ul> <li>All computations happen locally or on your server</li> <li>Settings are stored only in your browser</li> <li>No analytics or tracking</li> </ul>"},{"location":"user-guide/settings/#closing-the-panel","title":"Closing the Panel","text":"<p>Click anywhere outside the settings panel to close it.</p>"},{"location":"user-guide/simulation/","title":"Simulation","text":"<p>The Simulation page lets you run the hydrological model forward in time using calibrated parameters. This is useful for model validation, comparing multiple calibrations, and testing parameter transferability.</p>"},{"location":"user-guide/simulation/#overview","title":"Overview","text":"<p>Simulation applies pre-calibrated parameters to generate streamflow predictions. Unlike calibration, simulation does not modify parameters - it simply runs the model and evaluates performance against observations.</p> <p>Common use cases:</p> <ul> <li>Validation: Test calibrated parameters on an independent time period</li> <li>Model comparison: Compare performance of different models or calibrations</li> <li>Multimodel averaging: Combine predictions from multiple calibrations</li> </ul>"},{"location":"user-guide/simulation/#importing-calibration-results","title":"Importing Calibration Results","text":"<p>Before running a simulation, you must import one or more calibration result files.</p>"},{"location":"user-guide/simulation/#step-1-export-from-calibration","title":"Step 1: Export from Calibration","text":"<p>First, calibrate a model and export the parameters:</p> <ol> <li>Go to the Calibration page</li> <li>Complete a calibration (manual or automatic)</li> <li>Click Export parameters to save the JSON file</li> </ol>"},{"location":"user-guide/simulation/#step-2-import-to-simulation","title":"Step 2: Import to Simulation","text":"<p>On the Simulation page:</p> <ol> <li>Click Import model(s) parameters</li> <li>Select one or more calibration JSON files</li> <li>The imported calibrations appear in the table</li> </ol>"},{"location":"user-guide/simulation/#calibration-results-table","title":"Calibration Results Table","text":"<p>The table displays all imported calibrations:</p> Column Description hydrological model GR4J, Bucket, etc. catchment The catchment used for calibration objective Calibration objective (NSE, KGE, RMSE) transformation Streamflow transformation used algorithm Manual or SCE date start/end Calibration period snow model CemaNeige or none parameters Calibrated parameter values <p>Click the X button next to any calibration to remove it.</p> <p>Same Catchment Required</p> <p>All imported calibrations must be for the same catchment. Attempting to import a calibration for a different catchment will show an error.</p>"},{"location":"user-guide/simulation/#simulation-settings","title":"Simulation Settings","text":""},{"location":"user-guide/simulation/#simulation-period","title":"Simulation Period","text":"<p>Set the date range for simulation:</p> <ul> <li>Start: Beginning of the simulation period</li> <li>End: End of the simulation period</li> <li>Reset buttons: Return to the catchment's full available range</li> </ul> <p>Validation Period</p> <p>For proper validation, use a period not included in calibration. For example, if calibration used 1990-2000, validate on 2001-2010.</p>"},{"location":"user-guide/simulation/#multimodel-simulation","title":"Multimodel Simulation","text":"<p>When two or more calibrations are imported, enable Multimodel simulation to:</p> <ul> <li>Run each model independently</li> <li>Compute the average of all simulations</li> <li>Evaluate the multimodel ensemble performance</li> </ul> <p>This is disabled when only one calibration is loaded.</p>"},{"location":"user-guide/simulation/#running-a-simulation","title":"Running a Simulation","text":"<ol> <li>Import at least one calibration result</li> <li>Set the simulation period</li> <li>Optionally enable multimodel simulation</li> <li>Click Run</li> </ol> <p>Results appear in the charts on the right.</p>"},{"location":"user-guide/simulation/#understanding-results","title":"Understanding Results","text":""},{"location":"user-guide/simulation/#performance-metrics","title":"Performance Metrics","text":"<p>Six bar charts show different performance aspects for each simulation:</p> Metric Description Optimal High flows (NSE) NSE with no transformation 1 Medium flows (NSE-sqrt) NSE with sqrt transformation 1 Low flows (NSE-log) NSE with log transformation 1 Water balance (Mean bias) Average difference from observations 1 Flow variability (Deviation bias) Standard deviation ratio 1 Correlation Linear correlation coefficient 1 <p>Each calibration appears as a separate bar, color-coded to match the streamflow chart.</p>"},{"location":"user-guide/simulation/#streamflow-chart","title":"Streamflow Chart","text":"<p>The time series chart shows:</p> <ul> <li>Observations (blue): Measured streamflow</li> <li>Simulation 1, 2, ... (green, purple, orange, ...): Output from each calibration</li> <li>Multimodel (if enabled): Average of all simulations (color depends on number of loaded calibrations)</li> </ul>"},{"location":"user-guide/simulation/#chart-interactions","title":"Chart Interactions","text":"<ul> <li>Zoom: Click and drag to select a time range</li> <li>Reset: Double-click to return to full view</li> </ul>"},{"location":"user-guide/simulation/#multimodel-performance","title":"Multimodel Performance","text":"<p>When multimodel simulation is enabled, the performance metrics include an additional \"multimodel\" bar showing the ensemble's performance. Multimodel averaging often outperforms individual calibrations by reducing model structural uncertainty.</p>"},{"location":"user-guide/simulation/#exporting-results","title":"Exporting Results","text":"<p>Click Export data to save:</p> <ol> <li> <p>Simulation results (JSON): Configuration and performance metrics</p> <pre><code>{\n  \"calibrationConfig\": [\n    {\"name\": \"simulation_1\", ...},\n    {\"name\": \"simulation_2\", ...}\n  ],\n  \"config\": {\n    \"start\": \"2001-01-01\",\n    \"end\": \"2010-12-31\",\n    \"multimodel\": true\n  },\n  \"results\": [\n    {\"name\": \"simulation_1\", \"nse_none\": 0.85, ...},\n    {\"name\": \"simulation_2\", \"nse_none\": 0.82, ...},\n    {\"name\": \"multimodel\", \"nse_none\": 0.87, ...}\n  ]\n}\n</code></pre> </li> <li> <p>Simulation timeseries (CSV): Daily values for all simulations</p> <pre><code>date,simulation_1,simulation_2,multimodel,observation\n2001-01-01,12.5,13.2,12.85,11.8\n2001-01-02,11.8,12.5,12.15,12.1\n...\n</code></pre> </li> </ol>"},{"location":"user-guide/simulation/#common-issues","title":"Common Issues","text":""},{"location":"user-guide/simulation/#cannot-import-calibration","title":"Cannot Import Calibration","text":"<p>Error: \"This isn't a valid calibrated parameter file\"</p> <ul> <li>Ensure the file is a JSON file exported from HOLMES calibration</li> <li>Check that the file contains all required fields</li> </ul>"},{"location":"user-guide/simulation/#cannot-import-multiple-catchments","title":"Cannot Import Multiple Catchments","text":"<p>Error: \"The calibrations need to be on the same catchment\"</p> <ul> <li>All imported calibrations must be for the same catchment</li> <li>Export new calibrations from the same catchment</li> </ul>"},{"location":"user-guide/simulation/#simulation-already-imported","title":"Simulation Already Imported","text":"<p>Error: \"This calibration is already imported\"</p> <ul> <li>The same calibration file cannot be imported twice</li> <li>Each imported calibration must have unique parameters</li> </ul>"}]}